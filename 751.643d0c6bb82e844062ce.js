(self.webpackChunksend_sms=self.webpackChunksend_sms||[]).push([[751],{8751:(n,t,e)=>{"use strict";e.r(t),e.d(t,{SmsListCancelModule:()=>k});var i=e(1116),o=e(9056),s=e(1173),c=e(999),a=e(7006),r=e(5366),l=e(8873),d=e(529),p=e(2363);let m=(()=>{class n{constructor(n){this.api=n}getAll(){return this.api.get(d.N.apiShedule)}}return n.\u0275fac=function(t){return new(t||n)(r.LFG(p.s))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var g=e(6285),u=e(5522),h=e(959),C=e(142);function f(n,t){if(1&n&&(r.TgZ(0,"mat-chip",7),r._uU(1),r.qZA()),2&n){const n=t.$implicit;r.xp6(1),r.hij(" ",n," ")}}function b(n,t){if(1&n){const n=r.EpF();r.TgZ(0,"app-accordion",5),r.NdJ("btnEdit",function(){const t=r.CHM(n).$implicit;return r.oxw().edit(t)})("btnDelete",function(){const t=r.CHM(n).$implicit;return r.oxw().actionCancel(t)}),r.TgZ(1,"content"),r.TgZ(2,"label"),r._uU(3,"Mensagem"),r.qZA(),r.TgZ(4,"span"),r._uU(5),r.qZA(),r.qZA(),r.TgZ(6,"content"),r.TgZ(7,"label"),r._uU(8,"Grupo de contatos"),r.qZA(),r.TgZ(9,"span"),r._uU(10),r.qZA(),r.qZA(),r.TgZ(11,"mat-chip-list"),r.YNc(12,f,2,1,"mat-chip",6),r.qZA(),r.qZA()}if(2&n){const n=t.$implicit;r.Q6J("status",n.status)("title",n.hour),r.xp6(5),r.Oqu(n.msg),r.xp6(5),r.Oqu(n.listPhone.listName),r.xp6(2),r.Q6J("ngForOf",n.listPhone.phones)}}function y(n,t){1&n&&(r.TgZ(0,"div",8),r.TgZ(1,"h1"),r._uU(2,"N\xe3o h\xe1 SMS agendados"),r.qZA(),r.qZA())}function O(n,t){if(1&n){const n=r.EpF();r.TgZ(0,"app-modal",9),r.NdJ("btnPrimaryClick",function(){return r.CHM(n),r.oxw().modal.isOpen=!1})("btnSecondaryClick",function(){return r.CHM(n),r.oxw().cancel()}),r.qZA()}if(2&n){const n=r.oxw();r.Q6J("description",n.modal.description)("type",n.modal.type)("btnSecondary",n.modal.btnSecondary?n.modal.btnSecondary:"")("btnPrimary",n.modal.btnPrimary)}}function P(n,t){1&n&&r._UZ(0,"app-full-screen-loading")}let _=(()=>{class n extends a.z{constructor(n,t,e){super(),this.router=n,this.serviceListCancelSms=t,this.serviceEditSms=e,this.modal={},this.loader=!1,this.sms=[],this.smsCancel={},this.idCancel=0}ngOnInit(){this.getData()}getData(){this.loader=!0,this.serviceListCancelSms.getAll().pipe((0,o.q)(1)).subscribe(n=>{this.sms=n,this.loader=!1},()=>{this.loader=!1,this.modal=this.errorApi()})}edit(n){this.router.navigate([s.u.smsEdit,JSON.stringify(n)])}actionCancel(n){this.modal.btnPrimary="Cancelar",this.modal.btnSecondary="Confirmar",this.modal.description="Deseja realmente cancelar o agendamento do SMS?",this.modal.type=0,this.modal.isOpen=!0,this.smsCancel=n}cancel(){this.smsCancel.status=c.q.CANCELED,this.loader=!0,this.serviceEditSms.updateSms(this.smsCancel).pipe((0,o.q)(1)).subscribe(()=>{this.sms.find(n=>{n.id===this.smsCancel.id&&(n.status=c.q.CANCELED),this.modal.isOpen=!1,this.loader=!1})},()=>{this.loader=!1,this.modal=this.errorApi()})}}return n.\u0275fac=function(t){return new(t||n)(r.Y36(l.F0),r.Y36(m),r.Y36(g.C))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-sms-list-cancel"]],features:[r.qOj],decls:5,vars:4,consts:[[1,"container-sms"],[3,"status","title","btnEdit","btnDelete",4,"ngFor","ngForOf"],["class","no-record",4,"ngIf"],[3,"description","type","btnSecondary","btnPrimary","btnPrimaryClick","btnSecondaryClick",4,"ngIf"],[4,"ngIf"],[3,"status","title","btnEdit","btnDelete"],["color","primary","selected","",4,"ngFor","ngForOf"],["color","primary","selected",""],[1,"no-record"],[3,"description","type","btnSecondary","btnPrimary","btnPrimaryClick","btnSecondaryClick"]],template:function(n,t){1&n&&(r.TgZ(0,"div",0),r.YNc(1,b,13,5,"app-accordion",1),r.YNc(2,y,3,0,"div",2),r.qZA(),r.YNc(3,O,1,4,"app-modal",3),r.YNc(4,P,1,0,"app-full-screen-loading",4)),2&n&&(r.xp6(1),r.Q6J("ngForOf",t.sms),r.xp6(1),r.Q6J("ngIf",!t.sms.length&&!t.loader),r.xp6(1),r.Q6J("ngIf",t.modal.isOpen),r.xp6(1),r.Q6J("ngIf",t.loader))},directives:[i.sg,i.O5,c.Z,u.qn,u.HS,h.zS,C.k],styles:[".container-sms[_ngcontent-%COMP%]{position:relative;width:50%;display:block;margin:20px auto}@media only screen and (max-width:800px){.container-sms[_ngcontent-%COMP%]{margin:100px auto 20px;width:95%}}.container-sms[_ngcontent-%COMP%]   app-accordion[_ngcontent-%COMP%]{margin-bottom:25px;display:block}.container-sms[_ngcontent-%COMP%]   .no-record[_ngcontent-%COMP%]{background:#fff;padding:10px;border-radius:20px;min-height:100px;display:flex;justify-content:center;align-items:center;width:300px;margin:0 auto}.container-sms[_ngcontent-%COMP%]   .no-record[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:20px;margin:0}@media only screen and (max-width:500px){.container-sms[_ngcontent-%COMP%]   .no-record[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:18px}}.container-sms[_ngcontent-%COMP%]   app-accordion[_ngcontent-%COMP%]   content[_ngcontent-%COMP%]{margin-bottom:30px;display:block}.container-sms[_ngcontent-%COMP%]   app-accordion[_ngcontent-%COMP%]   content[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:bolder;display:block}.container-sms[_ngcontent-%COMP%]   app-accordion[_ngcontent-%COMP%]   content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block}"]}),n})();var M=e(2693),x=e(783),Z=e(597),S=e(8635),q=e(2314);const A=[{path:"",component:_}];let k=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({providers:[m,g.C,p.s],imports:[[i.ez,l.Bz.forChild(A),x.f,M.JF,u.Hi,S.z,Z.w,q.Ps]]}),n})()}}]);